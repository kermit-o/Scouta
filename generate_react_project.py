#!/usr/bin/env python3
import os
import sys

# A√±adir el directorio actual al path para importar nuestros m√≥dulos
sys.path.append('.')

try:
    from generators.template_engine import TemplateEngine
    
    print("üöÄ GENERANDO PROYECTO REACT REAL")
    print("================================")
    
    # Crear Template Engine
    engine = TemplateEngine()
    
    # Datos para un proyecto React completo
    project_data = {
        "name": "Mi Primera App React",
        "description": "Una aplicaci√≥n React moderna generada por Forge SaaS",
        "type": "react_web_app", 
        "features": ["auth", "crud", "responsive", "state_management"],
        "technologies": ["react", "javascript", "vite", "tailwind"]
    }
    
    # Generar el proyecto
    result = engine.generate_project(project_data, "generated_projects")
    
    print(f"\\n‚úÖ PROYECTO GENERADO EXITOSAMENTE!")
    print(f"üìç Ubicaci√≥n: {result['project_path']}")
    print(f"üìä Total archivos: {result['total_files']}")
    
    # Mostrar los comandos para ejecutar el proyecto
    project_dir = result['project_path']
    print(f"\\nüéØ PARA EJECUTAR EL PROYECTO:")
    print(f"   cd {project_dir}")
    print(f"   npm install")
    print(f"   npm run dev")
    
    # Verificar que los archivos cr√≠ticos existen
    print(f"\\nüìã ARCHIVOS CR√çTICOS GENERADOS:")
    critical_files = [
        "package.json",
        "src/App.jsx", 
        "src/main.jsx",
        "index.html",
        "vite.config.js"
    ]
    
    for file in critical_files:
        file_path = os.path.join(project_dir, file)
        if os.path.exists(file_path):
            print(f"   ‚úÖ {file}")
        else:
            print(f"   ‚ùå {file} - No encontrado")
    
except Exception as e:
    print(f"‚ùå Error: {e}")
    import traceback
    traceback.print_exc()
